-- MariaDB [news]> show create table comments;
-- +----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-- | Table    | Create Table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
-- +----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-- | comments | CREATE TABLE `comments` (
--   `id` int(11) NOT NULL AUTO_INCREMENT,
--   `user_ID` int(10) unsigned NOT NULL,
--   `story_ID` int(11) NOT NULL,
--   `content` longtext NOT NULL,
--   `link` longtext NOT NULL,
--   `time` timestamp NOT NULL DEFAULT current_timestamp(),
--   PRIMARY KEY (`id`,`user_ID`,`story_ID`),
--   KEY `user_ID` (`user_ID`),
--   KEY `story_ID` (`story_ID`),
--   CONSTRAINT `comments_ibfk_1` FOREIGN KEY (`user_ID`) REFERENCES `users` (`id`),
--   CONSTRAINT `comments_ibfk_2` FOREIGN KEY (`story_ID`) REFERENCES `stories` (`id`)
-- ) ENGINE=InnoDB DEFAULT CHARSET=utf8 |
-- +----------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
-- 1 row in set (0.00 sec)

create table comments (
    id int not null AUTO_INCREMENT,
    user_ID int unsigned default null,
    story_ID int not null,
    content longtext not null,
    link longtext not null,
    time timestamp not null DEFAULT current_timestamp(),
    primary key(id, user_ID, story_ID),
    foreign key (user_ID) references users (id),
    foreign key (story_ID) references stories (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8
